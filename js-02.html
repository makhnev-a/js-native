<button id="ok_btn">ok</button>
<button id="cancel_btn">cancel</button>
<input type="text" />
<script>
    const okBtn = document.getElementById("ok_btn");
    const myInput = document.querySelectorAll("input");
    const cancelBtn = document.getElementById('cancel_btn');
    const onOkClickFunc = () => {
        alert(myInput[0].value);
    }

    const resetInputFunc = () => {
        myInput[0].value = '';
    };

    okBtn.onclick = onOkClickFunc;
    cancelBtn.onclick = resetInputFunc;


    // task 01: добавить новый обработчик на клик для кнопки cancel, который будет очищать инпут от предыдущего ввода

    const everySecondTick = () => {
        console.log('tick every second');
    }

    //setInterval(everySecondTick, 1000)

    // task 02: создать новую функцию и закинуть её как колбэк в функцию setTimeout
    const myFunc2 = () => {
        console.log('test setTimeout');
    };
    setTimeout(myFunc2, 2000);

    const numbers = [1, 2, 3, 4];
    // task 03: получить массив  [1, 2, 3, 4, 5] не изменяя исходный массив,
    // т.е. иммютабельно
    const numbersWith5 = [...numbers, 5];

    const names = ["Dimych", "Sveta", "Valera"];
    // task 04: иммьютабельно получить массив ["Viktor", "Dimych", "Sveta", "Valera"]
    const namePlus = ['Viktor', ...names];
    console.log(names, namePlus);

    const user = {
        name: "Dimych",
        age: 32
    }
    // task 05: создать копию объекта, значение св-ва 'age' поменять на 33 
    // т.е.иммьютабельно
    const userCopy = {...user, age: 33};
    console.log(user, userCopy);

    // task 06: изменить иммьютабельно в студенте номер урока на 22
    const student = {
        lesson: 15,
        stack: ["css", "js", "html"]
    }

    const studentCopy = {...student, lesson: 22};
    console.log(student, studentCopy);

    // task 07: нужно в таске в подобъекте data изменить level на "low"
    const task = {
        title: "learn react",
        data: {
            createdBy: "Dimych",
            level: "important",
        }
    }
    
    // решение
    const taskCopy = {
        ...task,
        data: {
            ...task.data,
            level: "low"
        }
    }

    console.log(task, taskCopy);

    // task 08:
    // нужно иммьютабельно изменить todolist, добавив в него "react"
    const todolist = {
        title: "development",
        author: "Viktor",
        tasks: ["css", "js", "html"]
    }

    const newTodolist = {
        ...todolist,
        tasks: [...todolist.tasks, 'react']
    };

    console.log(todolist, newTodolist);

    // Ещё один способ создания копии массива
    let users = [
        { id: 1, name: "dima" }, 
        { id: 2, name: "viktor" }, 
        { id: 3, name: "katya" }
    ]
    let usersCopy = [...users];
    // !!!!!! =>
    let usersCopy2 = users.map(user => {
        return user
    });

    // к тому же, map позволяет в процессе итерации иммутабельно обновить один из объектов:

    let usersUpdateCopy1 = users.map(u => {
        if (u.id === 3) {
            return {
                ...u,
                name: "katyaSuperman"
            }
        } else {
            return u;
        }
    });
    // тоже самое, но с помощью тернарки и без фигурных скобок в стрелочно функции
    let usersUpdateCopy2 = users
        .map(u => u.id === 2 ? { ...u, name: "viktorSuperman" } : u);

    

</script>